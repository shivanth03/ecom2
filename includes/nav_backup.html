<!-- Header Section -->
<header>
  <nav class="navbar">
    <div class="logo">
      <div class="img">
        <img id="header-logo" src="images/logo.png" alt="Ecomshop Logo" />
      </div>
      <div class="logo-header">
        <h4><a id="home-link" href="index.html">Ecomshop</a></h4>
        <small>Your Ultimate Book Destination</small>
      </div>
    </div>
    
    <ul class="nav-list">
      <div class="logo mobile-logo">
        <div class="title">
          <div class="img">
            <img id="mobile-logo" src="images/logo.png" alt="Ecomshop Logo" />
          </div>
          <div class="logo-header">
            <h4><a id="mobile-home-link" href="index.html">Ecomshop</a></h4>
            <small>Your Ultimate Book Destination</small>
          </div>
        </div>
        <button class="close"><i class="fa-solid fa-xmark"></i></button>
      </div>
      
      <li><a href="index.html">Home</a></li>
      <li><a href="Pages/book-filter.html">Ebooks</a></li>
      <li><a href="Pages/templates.html">Templates</a></li>
      <li><a href="Pages/book-filter.html">Software</a></li>
      <li><a href="Pages/book-filter.html">Bundles</a></li>
      <li><a href="Pages/contact.html">Contact</a></li>
      
      <div class="header-right">
        <div class="auth-buttons">
          <button class="login-btn"><a href="Pages/login.html">Log In</a></button>
          <button class="signup-btn">
            <i class="fa-solid fa-user"></i>
            <a href="Pages/registration.html">Sign Up</a>
          </button>
        </div>
        
        <div class="cart-icon">
          <a href="Pages/cart-item.html">
            <i class="fa-solid fa-shopping-cart"></i>
            <span class="cart-count">0</span>
          </a>
        </div>
      </div>
    </ul>
    
    <div class="hamburger">
      <div class="line"></div>
      <div class="line"></div>
      <div class="line"></div>
    </div>
  </nav>
</header>

<!-- Header JavaScript -->
<script>
// Hamburger menu functionality
let hamburgerbtn = document.querySelector(".hamburger");
let nav_list = document.querySelector(".nav-list");
let closebtn = document.querySelector(".close");

if (hamburgerbtn && nav_list && closebtn) {
  hamburgerbtn.addEventListener("click", () => {
    nav_list.classList.add("active");
  });
  closebtn.addEventListener("click", () => {
    nav_list.classList.remove("active");
  });
  
  // Close menu when clicking outside
  document.addEventListener("click", (e) => {
    if (!nav_list.contains(e.target) && !hamburgerbtn.contains(e.target)) {
      nav_list.classList.remove("active");
    }
  });
}

// Cart functionality
function updateCartCount() {
  let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
  let cartCount = document.querySelector('.cart-count');
  if (cartCount) {
    cartCount.textContent = cartItems.length;
  }
}

// Fix paths based on current page location
function fixHeaderPaths() {
  const isInPagesFolder = window.location.pathname.includes('/Pages/');
  const pathPrefix = isInPagesFolder ? '../' : '';
  
  // Fix logo image paths
  const headerLogo = document.getElementById('header-logo');
  const mobileLogo = document.getElementById('mobile-logo');
  if (headerLogo) headerLogo.src = pathPrefix + 'images/logo.png';
  if (mobileLogo) mobileLogo.src = pathPrefix + 'images/logo.png';
  
  // Fix home links
  const homeLink = document.getElementById('home-link');
  const mobileHomeLink = document.getElementById('mobile-home-link');
  if (homeLink) homeLink.href = pathPrefix + 'index.html';
  if (mobileHomeLink) mobileHomeLink.href = pathPrefix + 'index.html';
}

// Update cart count on page load
document.addEventListener('DOMContentLoaded', function() {
  updateCartCount();
  fixHeaderPaths();
});

// Listen for cart updates
window.addEventListener('storage', updateCartCount);
</script>
<!-- Footer Section -->
<footer>
  <div class="footer-container">
    <div class="footer-content">
      <!-- Company Info Section -->
      <div class="footer-section company-info">
        <div class="footer-logo">
          <div class="logo-icon">
            <img id="footer-logo" src="images/logo.png" alt="Ecomshop Logo" />
          </div>
          <div class="logo-text">
            <h3>Ecomshop</h3>
            <p>Your Ultimate Book Destination</p>
          </div>
        </div>
        <div class="social-links">
          <a href="#" class="social-icon facebook"><i class="fa-brands fa-facebook-f"></i></a>
          <a href="#" class="social-icon twitter"><i class="fa-brands fa-twitter"></i></a>
          <a href="#" class="social-icon instagram"><i class="fa-brands fa-instagram"></i></a>
          <a href="#" class="social-icon linkedin"><i class="fa-brands fa-linkedin-in"></i></a>
        </div>
      </div>

      <!-- Quick Links Section -->
      <div class="footer-section quick-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="Pages/book-filter.html">Fiction & Literature</a></li>
          <li><a href="Pages/book-filter.html">Science & Technology</a></li>
          <li><a href="Pages/contact.html">Contact Us</a></li>
          <li><a href="Pages/contact.html">Help Center</a></li>
        </ul>
      </div>

      <!-- Account Section -->
      <div class="footer-section account">
        <h4>Account</h4>
        <ul>
          <li><a href="Pages/login.html">Sign In</a></li>
          <li><a href="Pages/registration.html">Create Account</a></li>
          <li><a href="Pages/cart-item.html">Shopping Cart</a></li>
          <li><a href="Pages/checkout.html">Track Orders</a></li>
        </ul>
      </div>

      <!-- Contact Section -->
      <div class="footer-section contact-info">
        <h4>Contact</h4>
        <div class="contact-details">
          <div class="contact-item">
            <i class="fa-solid fa-location-dot contact-icon"></i>
            <span>Shivamogga, Karnataka, India</span>
          </div>
          <div class="contact-item">
            <i class="fa-solid fa-phone contact-icon"></i>
            <span>+91 98765 43210</span>
          </div>
          <div class="contact-item">
            <i class="fa-solid fa-envelope contact-icon"></i>
            <span>support@ecomshop.in</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer Bottom -->
    <div class="footer-bottom">
      <div class="footer-bottom-content">
        <div class="copyright-section">
          <p>&copy; 2024 Ecomshop. All Rights Reserved.</p>
          <div class="footer-links">
            <a href="#">Privacy Policy</a>
            <a href="#">Terms & Conditions</a>
          </div>
        </div>
        <div class="payment-section">
          <span class="payment-text">We Accept:</span>
          <div class="payment-icons">
            <div class="payment-icon visa"></div>
            <div class="payment-icon mastercard"></div>
            <div class="payment-icon paypal"></div>
            <div class="payment-icon gpay"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

<!-- Back to top button -->
<button class="back-to-top"><i class="fa-solid fa-chevron-up"></i></button>

<!-- Footer JavaScript -->
<script>
// Back to top button functionality
let backbtn = document.querySelector(".back-to-top");
if (backbtn) {
  const scrollBtnDisplay = function () {
    window.scrollY > 100
      ? backbtn.classList.add("show")
      : backbtn.classList.remove("show");
  };
  window.addEventListener("scroll", scrollBtnDisplay);

  const scrollWindow = function () {  
    if (window.scrollY != 0) {
      setTimeout(function () {
        window.scrollTo(0, window.scrollY - 50);
        scrollWindow();
      }, 10);
    }
  };
  backbtn.addEventListener("click", scrollWindow);
}

// Fix footer paths based on current page location
function fixFooterPaths() {
  const isInPagesFolder = window.location.pathname.includes('/Pages/');
  const pathPrefix = isInPagesFolder ? '../' : '';
  
  // Fix footer logo path
  const footerLogo = document.getElementById('footer-logo');
  if (footerLogo) footerLogo.src = pathPrefix + 'images/logo.png';
}

// Fix paths on load
document.addEventListener('DOMContentLoaded', fixFooterPaths);
</script>
